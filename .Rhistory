#add dependance package
usethis::use_package("httr")
usethis::use_package("xml2")
usethis::use_package("rvest")
usethis::use_package("tidyverse", type = "depends")
usethis::use_package("lubridate")
usethis::use_package("rapportools")
usethis::use_package("stringi")
# build doc
devtools::document()
devtools::check()
# build site
usethis::use_pkgdown()
pkgdown::build_site()
#
# Étape 5: Hébergez le site Web à l'aide de pages GitHub
# ======================================================
# Ajouter _pkgdown.yml à Rbuildignore
usethis::use_build_ignore(files = "_pkgdown.yml")
#add dependance package
usethis::use_package("httr")
usethis::use_package("xml2")
usethis::use_package("rvest")
usethis::use_package("tidyverse", type = "depends")
usethis::use_package("lubridate")
usethis::use_package("rapportools")
usethis::use_package("stringi")
# build doc
devtools::document()
devtools::check()
# build site
usethis::use_pkgdown()
pkgdown::build_site()
getwd()
#add dependance package
usethis::use_package("httr")
usethis::use_package("xml2")
usethis::use_package("rvest")
usethis::use_package("tidyverse", type = "depends")
usethis::use_package("lubridate")
usethis::use_package("rapportools")
usethis::use_package("stringi")
# build doc
devtools::document()
devtools::check()
library(xml2)
library(rvest)
library(tidyverse)
library(lubridate)
library(stringi)
#collect rubrique url
url_rubrique <- read_html("https://www.lesechos.ml/") %>%
html_nodes("#header-layout2 .container #dropdown ul li a") %>%
html_attr("href") %>% str_trim() %>% .[-1]
url_rubrique
# Collect pagination by rubrique
url_pag <- map_dfr(.x = url_rubrique,
.f = function(x){
tibble(
url_pag=try(read_html(x) %>%
html_nodes(".pagination li a") %>%
html_attr("href") %>% str_trim()))})
url_pag
url_rubrique
#add dependance package
usethis::use_package("httr")
usethis::use_package("xml2")
usethis::use_package("rvest")
usethis::use_package("tidyverse", type = "depends")
usethis::use_package("lubridate")
usethis::use_package("rapportools")
usethis::use_package("stringi")
# build doc
devtools::document()
devtools::check()
#add dependance package
usethis::use_package("httr")
usethis::use_package("xml2")
usethis::use_package("rvest")
usethis::use_package("tidyverse", type = "depends")
usethis::use_package("lubridate")
usethis::use_package("rapportools")
usethis::use_package("stringi")
# build doc
devtools::document()
devtools::check()
library(xml2)
library(rvest)
library(tidyverse)
library(lubridate)
library(stringi)
#collect rubrique url
url_rubrique <- read_html("https://www.lesechos.ml/") %>%
html_nodes("#header-layout2 .container #dropdown ul li a") %>%
html_attr("href") %>% str_trim() %>% .[-1]
url_rubrique
# Collect pagination by rubrique
url_pag <- map_dfr(.x = url_rubrique,
.f = function(x){
tibble(
url_pag=try(read_html(x) %>%
html_nodes(".pagination li a") %>%
html_attr("href") %>% str_trim()))})
url_rubrique
# Collect pagination by rubrique
url_pag <- map_dfr(.x = url_rubrique,
.f = function(x){
tibble(
url_pag = try(read_html(x) %>%
html_nodes("#wrapper .pagination li a") %>%
html_attr("href") %>% str_trim()))})
library(xml2)
library(rvest)
library(tidyverse)
library(lubridate)
library(stringi)
#collect rubrique url
url_rubrique <- read_html("https://www.lesechos.ml/") %>%
html_nodes("#header-layout2 .container #dropdown ul li a") %>%
html_attr("href") %>% str_trim() %>% .[-1]
library(xml2)
library(rvest)
library(tidyverse)
library(lubridate)
library(stringi)
read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li a") %>%
html_attr("href")
read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li a ul li a") %>%
html_attr("href")
read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li ul li a") %>%
html_attr("href")
?nodes
?html_nodes
read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:last-child) ul li a") %>%
html_attr("href")
read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-menu ul li a") %>%
html_attr("href")
read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-category-menu li a") %>%
html_attr("href")
read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-category-menu li:not(:nth-child(1)) a") %>%
html_attr("href")
read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-category-menu li:not(:first-child) a") %>%
html_attr("href")
read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-category-menu li:not(:first-child) a") %>%
html_attr("href") %>% str_trim()%>%
str_subset("^https://www.journaldumali.com/category/")
#collect rubrique url
url_rubrique <- read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-category-menu li:not(:first-child) a") %>%
html_attr("href") %>% str_trim()%>%
str_subset("^https://www.journaldumali.com/category/")
url_rubrique <- read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-category-menu li:not(:first-child) a") %>%
html_attr("href") %>% str_trim()
url_rubrique
#collect rubrique url
url_rubrique <- read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-category-menu li a") %>%
html_attr("href") %>% str_trim()
url_rubrique
#collect rubrique url
url_rubrique <- read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-category-menu li:not(:first-child) a") %>%
html_attr("href") %>% str_trim()
x = "https://www.journaldumali.com/category/economie/actualites-economie/"
read_html(x) %>%
html_node(".wrapper .main .wp-pagenavi .last") %>%
html_attr("href")
read_html(x) %>%
html_node(".wrapper .main .wp-pagenavi .last") %>%
html_attr("href")  %>% str_split("page/")
read_html(x) %>%
html_node(".wrapper .main .wp-pagenavi .last") %>%
html_attr("href")  %>% str_split("page/") %>% .[[1]] %>% .[2] %>% as.integer()
read_html(x) %>%
html_node(".wrapper .main .wp-pagenavi .last") %>%
html_attr("href")  %>% str_split("page/") %>% .[[1]]
read_html(x) %>%
html_node(".wrapper .main .wp-pagenavi .last") %>%
html_attr("href")  %>% str_split("page/") %>% .[[1]] %>% .[2]
read_html(x) %>%
html_node(".wrapper .main .wp-pagenavi .last") %>%
html_attr("href")  %>% str_split("page/") %>% .[[1]] %>% .[2] %>%
str_split("/") %>% .[[1]]
read_html(x) %>%
html_node(".wrapper .main .wp-pagenavi .last") %>%
html_attr("href")  %>% str_split("page/") %>% .[[1]] %>% .[2] %>%
str_split("/") %>% .[[1]] %>% .[1] %>% as.integer(
)
#collect rubrique url
url_rubrique <- read_html("https://www.journaldumali.com/") %>%
html_nodes(".wrapper header nav .container ul li:not(:nth-child(10)) .sub-category-menu li:not(:first-child) a") %>%
html_attr("href") %>% str_trim()
# Collect pagination by rubrique
number_pag <- map_dfr(.x = url_rubrique,
.f = function(x){
tibble(url = x,
nbr_pg=tryCatch(
read_html(x) %>%
html_node(".wrapper .main .wp-pagenavi .last") %>%
html_attr("href")  %>% str_split("page/") %>% .[[1]] %>% .[2] %>%
str_split("/") %>% .[[1]] %>% .[1] %>% as.integer(),
error = function(e){NA},
warning=  function(e){NA}))})
# Collect pagination by rubrique
number_pag <- map_dfr(.x = url_rubrique,
.f = function(x){
tibble(url = x,
nbr_pg=tryCatch(
read_html(x) %>%
html_node(".wrapper .main .wp-pagenavi .last") %>%
html_attr("href")  %>% str_split("page/") %>% .[[1]] %>% .[2] %>%
str_split("/") %>% .[[1]] %>% .[1] %>% as.integer(),
error = function(e){NA},
warning=  function(e){NA}))})
